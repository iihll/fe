<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>debounce: <input type="text" id="debounce-input" /></div>

    <script>
      // "use strict"
      function doSomething() {
        console.log('debounce')
      }

      window.addEventListener('resize', function (e) {
        debounce(doSomething, 1000)
      })
      const inputDom = document.getElementById('debounce-input')

      function debounce(func, wait) {
        let timeout
        return function () {
          const that = this
          const args = arguments
          clearTimeout(timeout)
          timeout = setTimeout(function () {
            func.apply(that, args)
          }, wait)
        }
      }

      inputDom.onkeyup = debounce(doSomething, 300)

      // function King() {
      //   this.royaltyName = 'Henry'
      //   // this 引用 King 的实例
      //   setTimeout(() => console.log(this.royaltyName), 1000)
      // }
      // function Queen() {
      //   this.royaltyName = 'Elizabeth'
      //   // this 引用 window 对象
      //   setTimeout(function () {
      //     console.log(this.royaltyName)
      //   }, 1000)
      // }
      // console.log(new King()) // Henry
      // console.log(new Queen()) // undefined
      // function test() {console.log(this)}
      // test.apply(window)
    </script>
  </body>
</html>
    inputDom.onkeyup = debounce(doSomething, 300)
  </script>
</body>
</html>

<script>
  
</script>
